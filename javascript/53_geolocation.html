<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>geolocation</title>
    </head>
    <body>
        <h2>내 현재 위치 보기</h2>
        <button onclick="getLocation()">위치 가져오기</button>
        <p id="locationInfo">위치 정보가 여기에 표시됩니다.</p>

        <script>
            function getLocation() {
                if (navigator.geolocation) {
                    //여기에 값이 있다면 true,null이면 else로..)
                    navigator.geolocation.getCurrentPosition(
                        showPosition,
                        showError
                    );
                    //성공하면 위치를 보여주고 실패하면 에러를 띄운다.(이름은 아무거나 可)
                } else {
                    document.getElementById("locationInfo").innerText = //locationInfo를 가져오게 되면 p태그 자체를 가져온다 -> p태그 안 문자를 바꾸겠다.
                        "이 브라우저는 위치 정보를 지원하지 않습니다.";
                }
            }

            function showPosition(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude; //위,경도 정보를 담기
                document.getElementById(
                    "locationInfo"
                ).innerText = `위도: ${latitude}, 경도: ${longitude}`; //위, 경도 정보를 innerText에 넣기.
            }

            function showError(error) {
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        alert("사용자가 위치 정보 제공을 거부했습니다.");
                        break;
                    case error.POSITION_UNAVAILABLE:
                        alert("위치 정보를 사용할 수 없습니다.");
                        break;
                    case error.TIMEOUT:
                        alert("위치 정보를 가져오는 데 시간이 초과되었습니다.");
                        break;
                    default:
                        alert("알 수 없는 오류가 발생했습니다.");
                }
            }
        </script>
    </body>
</html>
